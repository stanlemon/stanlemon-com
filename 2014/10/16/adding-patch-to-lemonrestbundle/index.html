<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8"> 
  <meta charset="utf-8">
  <title>lemonbytes by Stan Lemon</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <link rel="canonical" href="https://stanlemon.com/2014/10/16/adding-patch-to-lemonrestbundle/">
  <link rel="alternate" type="application/rss+xml" title="lemonbytes by Stan Lemon" href="https://stanlemon.com/feed.xml" />

  <link rel="stylesheet" href="/css/main.css">
  
  <link rel="apple-touch-icon" sizes="57x57" href="/assets/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/assets/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/assets/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/assets/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/assets/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/assets/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/assets/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/assets/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192"  href="/assets/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/assets/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/icons/favicon-16x16.png">
  <link rel="manifest" href="/assets/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/assets/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">  

  <link href="//fonts.googleapis.com/css?family=Oswald|Source+Code+Pro" rel="stylesheet">
</head>
<body>

<header class="navbar navbar-bright navbar-fixed-top" role="banner">
  <div class="container">
    <div class="navbar-header">
      <button class="navbar-toggle" type="button">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a href="/" class="navbar-brand">Home</a>
    </div>
    <div id="nav" class="updown" role="navigation">
      <ul class="nav navbar-nav">
        <li><a href="/about/">About</a></li>
        <li><a href="https://twistoflemonpod.com/" target="_window">Podcast</a></li>
        <li><a href="https://eepurl.com/gvEkEL" target="_window">Subscribe</a></li>
        <li><a href="/contact/">Contact</a></li>
      </ul>
    </div>
  </div>
</header>

<div id="masthead">  
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <h1>
          lemonbytes<span class="byline"> by Stan Lemon</span>
          <p class="lead">husband, dad, steelers fan and software engineer</p>
        </h1>
      </div>
    </div> 
  </div>
  
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <div class="top-spacer"> </div>
      </div>
    </div> 
  </div>
</div>


<div class="container">
  <div class="row">
    <div class="col-md-12"> 
      <div class="panel">
        <div class="panel-body">
          

<div class="row">    
  <div class="col-sm-offset-1 col-sm-7">
    <h2>
      <a href="">Adding PATCH to LemonRestBundle</a>
    </h2>
    <h4>by Stan Lemon</h4>
  </div>
  <div class="col-sm-3 post-date">
      <h3>Oct 17, 2014</h3>
  </div>
</div>

<div class="row">
  <div class="col-sm-offset-1 col-sm-10">
    <article class="post-content">
      <hr>
      <p>Work on <a href="http://github.com/stanlemon/rest-bundle">LemonRestBundle</a> continues, last night I merged in support for PATCH. This is an interesting beast because there are some strong opinions on the proper way to implement PATCH in a REST API. Initially I assumed I would just avoid it rather than subject myself to the judgment of poor implementation. However, the more I researched PATCH the more I realized that I wanted to add it, and furthermore the strong opinions were largely academic in nature. The <a href="https://tools.ietf.org/html/rfc6902">JSON Patch specification</a> is rather powerful but also complex, I've yet to find a consuming client that actually supports this standard. What I see a lot of is more akin to the <a href="http://tools.ietf.org/html/draft-ietf-appsawg-json-merge-patch-07">JSON Merge Patch specification</a>, and this is exactly what I've decided to add. Truthfully the bulk of the work in my implementation happens in JMS Serializer. I need to do more extensive testing on object nesting but the basic implementation works right now. One issue to keep in mind is the current setup requires you to specify the object id when in the PATCH request. I hope to fix this in the future, but for now that's the requirement.</p>
<p>I've also recently added the ability to customize the Criteria object for searches.  The Criteria object is basically a collection of the query parameters and it gets used by the ObjectManager to add filtering to the findBy() command used for making collections of a given resource. Out of a set of query parameters the default implementation separates out some data for limit, offset, order by and order direction and then provides those in a standard way to the ObjectManager. The limiting factor in the initial implementation is that you might not have liked the fields I was using for limit, offset, etc. Customizing the Criteria object gives you full control over how this is handled. You can read more about how to configure this in the bundle's documentation.</p>
<p>I've been experimenting with generating <a href="http://swagger.io">Swagger</a> docs within my bundle. I would expect this to materialize in the next week or so.  The technical details are already available to generate the docs, it's the descriptive data that isn't there yet and I'm still evaluating the best way to make that possible. Ultimately I'd love to have the bundle help it's users generate documentation for their APIs, eliminating yet one more detail in the management of a REST API.</p>
<p>Last but not least there I think it's safe to expect support for versioning, again this will largely be driven off of JMS Serializer's version exclusion groups.</p>
<p>Work on the bundle continues to move forward. Several folks have made contributions, all of which I am really grateful for! If you have a suggestion, recommendation or spotted a bug of any sort please open an issue over on GitHub.</p>

      
      <hr>
    </article>
  </div>
</div>

        </div>
      </div>
   	</div>
  </div>
</div>

<div class="spacer"></div>

<footer>
  <div class="container">
    <div class="row">
      <div class="col-sm-6">
        <ul class="list-inline">
          <li>
            <a href="http://twitter.com/stanlemon">
              <i class="icon-twitter icon-2x"></i>
            </a>
          </li>
          <li>
            <a href="http://linkedin.com/in/stanlemon">
              <i class="icon-linkedin icon-2x"></i>
            </a>
          </li>
          <li>
            <a href="http://github.com/stanlemon">
              <i class="icon-github icon-2x"></i>
            </a>
          </li>
          <li>
            <a href="undefined/feed.xml">
              <i class="icon-rss icon-2x"></i>
            </a>
          </li>

        </ul>
      </div>
      <div class="col-sm-6">
          <p class="pull-right">
            &copy;  Stan Lemon
          </p>
      </div>
    </div>
  </div>
</footer>
<script type="text/javascript">
  const nav = document.querySelector('#nav');
  document.querySelector('.navbar-toggle').addEventListener("click", function() {
    nav.classList.toggle('updown');
  });
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-33072694-1', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>